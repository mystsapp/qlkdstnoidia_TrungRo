@model qlkdstDB.EF.dmkhachhang
<style>
    /*.btn {
        background-color: DodgerBlue;
        border: none;
        color: white;
        padding: 12px 16px;
        cursor: pointer;
    }*/

    /* Darker background on mouse-over */
    .btn:hover {
        background-color: RoyalBlue;
    }
</style>
<script src="~/Scripts/script-custom-validator.js"></script>

<div class="wthree_general graph-form agile_info_shadow ">
    <h3 class="w3_inner_tittle two">THÊM KHÁCH HÀNG </h3>

    <div class="grid-1 ">
        <div class="form-body">

            @using (Html.BeginForm("Create", "Dmkh", FormMethod.Post, new { @id = "frmdmkh", @class = "form-horizontal" }))
            {
                @Html.AntiForgeryToken()
                HtmlHelper.UnobtrusiveJavaScriptEnabled = false;

                <div class="form-group">

                    <label for="txtmakh" class="col-sm-2 control-label"> Mã:</label>
                    <div class="col-sm-2">
                        @Html.TextBoxFor(model => model.makh, new { @id = "txtmakh", @class = "form-control", @readonly = "readonly" })
                    </div>

                    <label for="txttentm" class="col-sm-2 control-label">    tên thương mại:</label>
                    <div class="col-sm-6">
                        @Html.TextBoxFor(model => model.tenthuongmai, new { @class = "form-control text-uppercase" })
                    </div>

                </div>
                <div class="form-group">
                    <label for="txttengd" class="col-sm-2 control-label musttype">   Tên giao dịch:</label>
                    <div class="col-sm-10">
                        @Html.TextBoxFor(model => model.tengiaodich, new { @class = "form-control text-uppercase" })
                    </div>

                </div>
                <div class="form-group">

                    <label for="dlqg" class="col-sm-2 control-label  musttype">   quốc gia:</label>
                    <div class="col-sm-4">
                        @Html.DropDownList("quocgia", null, string.Empty, new { @id = "ddlQg", @class = "form-control" })
                    </div>

                    <label for="dltp" class="col-sm-2 control-label  musttype">   thành phố:</label>
                    <div class="col-sm-4">
                        @Html.DropDownList("thanhpho", null, string.Empty, new { @id = "ddlTp", @class = "form-control" })
                    </div>

                    
                </div>
                <div class="form-group">

                    <label for="dlqg" class="col-sm-2 control-label  musttype">   Chi nhánh:</label>
                    <div class="col-sm-4">
                        @Html.DropDownList("chinhanh", null, string.Empty, new { @class = "form-control" })
                    </div>

                    <label for="txtdiachi" class="col-sm-2 control-label">    Địa chỉ:</label>
                    <div class="col-sm-4">
                        @Html.TextBoxFor(model => model.diachi, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">

                    <label for="txttele" class="col-sm-2 control-label">   điện thoại:</label>
                    <div class="col-sm-2">
                        @Html.TextBoxFor(model => model.telephone, new { @class = "form-control" })
                    </div>

                    <label for="txttax" class="col-sm-2 control-label">   tax:</label>
                    <div class="col-sm-2">
                        @Html.TextBoxFor(model => model.tax, new { @class = "form-control" })
                    </div>

                    <label for="txtfax" class="col-sm-2 control-label">    fax:</label>
                    <div class="col-sm-2">
                        @Html.TextBoxFor(model => model.fax, new { @class = "form-control" })
                    </div>
                </div>

                <div class="form-group">

                    <label for="txtemail" class="col-sm-2 control-label">   email:</label>
                    <div class="col-sm-2">
                        @Html.TextBoxFor(model => model.email, new { @class = "form-control" })
                    </div>

                    <label for="txtnguoiqh" class="col-sm-2 control-label">   người liên hệ:</label>
                    <div class="col-sm-2">
                        @Html.TextBoxFor(model => model.nguoiqh, new { @class = "form-control" })
                    </div>

                    <label for="txtnguoiqh" class="col-sm-2 control-label  musttype">   ngành nghề:</label>
                    <div class="col-sm-2">
                        @Html.DropDownList("nganhnghe", null, String.Empty, new { @class = "form-control" })
                    </div>

                </div>
                <div class="form-group">
                    <label for="txtlichsu" class="col-sm-2 control-label">  Lịch sử tham gia tour:</label>
                    <div class="col-sm-10">
                        @Html.TextAreaFor(model => model.lsthamgiatour, 5, 10, new { @id = "txtlichsu", @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="txtnguoiqh" class="col-sm-2 control-label">   Ghi chú khi giao dịch với khách:</label>
                    <div class="col-sm-10">
                        @Html.TextAreaFor(model => model.ghichukhigiaodich, 5, 10, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">

                    <label for="txtnguoitao" class="col-sm-2 control-label">   Người tạo:</label>
                    <div class="col-sm-4">
                        @Html.TextBoxFor(model => model.nguoitao, new { @class = "form-control", @readonly = "readonly" })
                    </div>

                    <label for="txtngaytao" class="col-sm-2 control-label">   Ngày tạo:</label>
                    <div class="col-sm-4">
                        @Html.TextBoxFor(model => model.ngaytao, new { @class = "form-control", @readonly = "readonly" })
                    </div>

                </div>

                <div class="col-sm-offset-2">
                    <button name="submit" class="btn btn-primary" id="btnSave"><i class="fa fa-save"></i>Lưu</button>
                    @*<button class="btn btn-primary" id="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close"></i>Hủy</button>*@
                    @Html.ActionLink("Quay lại", "Cancel", "Dmkh", null, new { @class = "btn btn-danger fa fa-close" })
                </div>

            }

        </div>
    </div>
</div>

<script>



        $('#ddlQg').change(function () {

        var selectQg = $("#ddlQg").val();
        var selectTp = $('#ddlTp');
        selectTp.empty();
        if (selectQg != null && selectQg != '') {
            $.getJSON('@Url.Action("GetTpTheoQg")', { id: selectQg }, function (thanhps) {
                if (thanhps != null && !jQuery.isEmptyObject(thanhps)) {
                    selectTp.append($('<option/>', {
                        value: null,
                        text: ""
                    }));
                    $.each(thanhps, function (index, pb) {
                        debugger
                        selectTp.append($('<option/>', {
                            value: pb.tenquan,
                            text: pb.tenquan
                        }));
                    });
                };
            });
        }
    });

</script>